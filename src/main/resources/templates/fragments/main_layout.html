<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="author" content="Coderthemes" />

    <!-- App Favicon -->
    <link rel="shortcut icon" href="/images/favicon.ico" />

    <!-- App title -->
    <title>CRS</title>

    <!--Morris Chart CSS -->
    <link rel="stylesheet" th:href="@{/plugins/morris/morris.css}" />

    <!-- Switchery css -->
    <link rel="stylesheet" th:href="@{/plugins/switchery/switchery.min.css}" />

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" th:href="@{/css/bootstrap.min.css}" />

    <!-- App CSS -->
    <link rel="stylesheet" th:href="@{/css/style.css}" />

    <!-- Modernizr js -->
    <script rel="stylesheet" th:src="@{/js/modernizr.min.js}"></script>

    <!-- Custom css -->
    <link rel="stylesheet" th:href="@{/css/custom.css}" />

    <!-- tree css -->
    <!-- <link rel="stylesheet" th:href="@{/js/jstree/style.css}" />
        <link rel="stylesheet" th:href="@{/css/salcss.css}" /> -->

    <link href="/css/crs_datatable/jquery-ui.css" rel="stylesheet" type="text/css" />
    <link href="/css/crs_datatable/dataTables.jqueryui.min.css" rel="stylesheet" type="text/css" />
    <link href="/css/crs_datatable/jquery.dataTables.min.css" rel="stylesheet" type="text/css" />
    <link href="/css/crs_datatable/responsive.dataTables.min.css" rel="stylesheet" type="text/css" />

    <link href="/plugins/timepicker/bootstrap-timepicker.min.css" rel="stylesheet" />
    <link href="/plugins/mjolnic-bootstrap-colorpicker/css/bootstrap-colorpicker.min.css" rel="stylesheet" />
    <link href="/plugins/bootstrap-datepicker/css/bootstrap-datepicker.min.css" rel="stylesheet" />

    <style>
        div.dropdown-menu .show {
            position: absolute;
            will-change: transform;
            top: 0px;
            left: -40px !important;
            transform: translate3d(0px, 36px, 0px);
        }

        .spinner {
            position: fixed;
            left: 0;
            right: 0;
            top: 0;
            bottom: 0;
            z-index: 10000000;
            background: rgba(0, 0, 0, 0.2);
        }

        .spinner .in {
            position: absolute;
            left: 43%;
            top: 30%;
            width: 120px;
            /* margin: -60px 0 0 -60px; */
        }
    </style>

    <th:block layout:fragment="header"></th:block>
</head>

<body class="fixed-left">
    <!-- Begin page -->
    <div id="wrapper">
        <!-- Top Bar Start -->
        <div class="topbar">
            <!-- LOGO -->
            <div class="topbar-left">
                <a href="#" class="logo">
                    <img class="zmdi zmdi-group-work icon-c-logo nppa-logo" src="/images/logo-login.png" alt=""
                        srcset="" />
                    <span class="nppa-title">NPPA</span>
                    <span class="crs-title">CRS</span>
                </a>
            </div>

            <nav class="navbar-custom">
                <ul class="list-inline float-right mb-0">
                    <li class="list-inline-item dropdown notification-list">
                        <div class="dropdown-menu dropdown-menu-right profile-dropdown" aria-labelledby="Preview">
                            <!-- item-->
                            <a href="javascript:void(0);" class="dropdown-item notify-item">
                                <i class="zmdi zmdi-account-circle"></i>
                                <span>Profile</span>
                            </a>

                            <!-- item-->
                            <a href="javascript:void(0);" class="dropdown-item notify-item">
                                <i class="zmdi zmdi-settings"></i>
                                <span>Settings</span>
                            </a>

                            <!-- item-->
                            <a href="javascript:void(0);" class="dropdown-item notify-item">
                                <i class="zmdi zmdi-lock-open"></i>
                                <span>Lock Screen</span>
                            </a>

                            <!-- item-->
                            <a th:href="@{/logout}" class="dropdown-item notify-item">
                                <i class="zmdi zmdi-power"></i>
                                <span>Logout</span>
                            </a>
                        </div>
                    </li>

                    <li class="list-inline-item dropdown notification-list">
                        <a class="nav-link waves-effect waves-light right-bar-toggle" href="javascript:void(0);">
                            <i class="zmdi zmdi-format-subject noti-icon"></i>
                        </a>
                    </li>

                    <li class="list-inline-item dropdown notification-list">
                        <a class="nav-link dropdown-toggle waves-effect waves-light nav-user" data-toggle="dropdown"
                            href="#" role="button" aria-haspopup="false" aria-expanded="false">
                            <img src="/images/profile.png" alt="user" class="rounded-circle" />
                        </a>
                        <div class="dropdown-menu dropdown-menu-right profile-dropdown" aria-labelledby="Preview">
                            <!-- item-->
                            <div class="dropdown-item noti-title">
                                <h5 class="text-overflow">
                                    <small>
                                        <span>Welcome !</span>
                                        <span th:utext="${userVO.getFirstName()}"></span>
                                    </small>
                                </h5>
                            </div>

                            <!-- item-->
                            <a href="javascript:void(0);" class="dropdown-item notify-item">
                                <i class="zmdi zmdi-account-circle"></i>
                                <span>Profile</span>
                            </a>

                            <!-- item-->
                            <a href="javascript:void(0);" class="dropdown-item notify-item">
                                <i class="zmdi zmdi-settings"></i>
                                <span>Settings</span>
                            </a>

                            <!-- item-->
                            <a href="javascript:void(0);" class="dropdown-item notify-item">
                                <i class="zmdi zmdi-lock-open"></i>
                                <span>Lock Screen</span>
                            </a>

                            <!-- item-->
                            <a th:href="@{/logout}" class="dropdown-item notify-item">
                                <i class="zmdi zmdi-power"></i>
                                <span>Logout</span>
                            </a>
                        </div>
                    </li>

                    <li class="list-inline-item dropdown notification-list">
                        <a class="nav-link dropdown-toggle waves-effect waves-light nav-user" data-toggle="dropdown"
                            href="#" role="button" aria-haspopup="false" aria-expanded="false">
                            <select name="" id="">
                                <option value="">English</option>
                                <option value="">French</option>
                                <option value="">Kinyarwanda</option>
                            </select>
                        </a>
                    </li>
                </ul>

                <ul class="list-inline menu-left mb-0">
                    <li class="float-left">
                        <button class="button-menu-mobile open-left waves-light waves-effect">
                            <i class="zmdi zmdi-menu"></i>
                        </button>
                    </li>
                </ul>
            </nav>
        </div>
        <!-- Top Bar End -->

        <!-- ========== Left Sidebar Start ========== -->
        <div class="left side-menu">
            <div class="sidebar-inner slimscrollleft">
                <div class="card-body">
                    <div class="media" style="color: white">
                        <div class="mr-1"></div>
                        <div class="media-body">
                            <div class="media-title font-weight-semibold">
                                <span th:utext="${userVO.getFirstName() + ' ' + userVO.getLastName()}"></span>
                            </div>
                            <div class="font-size-xs opacity-50">
                                <i class="icon-pin font-size-sm"></i>
                                &nbsp;Officer
                            </div>
                        </div>

                        <div class="ml-3 align-self-center">
                            <a href="#" class="text-white"><i class="icon-cog3"></i></a>
                        </div>
                    </div>
                </div>

                <!--- Sidemenu -->
                <div id="sidebar-menu">
                    <ul>
                        <li class="text-muted menu-title">Navigation</li>

                        <li class="has_sub">
                            <a th:href="@{/manageUser/dashboard}" class="waves-effect">
                                <i class="zmdi zmdi-view-dashboard"></i>
                                <span>Dashboard</span>
                            </a>
                        </li>

                        <li class="has_sub" th:each="grRole:${grourRoleVO}"
                            th:if="${grRole.rolesVO.resourceVO.pattern == 'TASK'}">
                            <a href="javascript:void(0);" class="waves-effect">
                                <span id="listRequestInTrack"></span>
                                <i class="fa fa-tasks"></i>
                                <span>Tasks</span>
                            </a>
                            <ul class="list-unstyled">
                                <li>
                                    <a th:href="@{'/manageApplication/application'}">
                                        <span id="pendingRequest"></span>
                                        Requests
                                    </a>
                                </li>
                                <li>
                                    <a th:href="@{/manageApplication/draft}">
                                        <span id="draftRequest"></span>
                                        Drafts
                                    </a>
                                </li>
                            </ul>
                        </li>
                        <!-- <li class="has_sub" th:each="grRole:${grourRoleVO}" th:if="${grRole.rolesVO.resourceVO.pattern == 'Administation'}" > -->
                        <li class="has_sub"  th:each="grRole:${grourRoleVO}"
                            th:if="${grRole.rolesVO.resourceVO.pattern == 'ADMIN'}">
                            <a href="#" class="waves-effect">
                                <span class="badge badge-pill badge-primary float-right"></span>
                                <i class="fa fa-vcard"></i>
                                <span>Administrator</span>
                                <span class="menu-arrow"></span>
                            </a>
                            <ul class="list-unstyled">
                                <li>
                                    <a th:href="@{/manageUser/userManagement}">
                                        Internal Users
                                    </a>
                                </li>
                                <li>
                                    <a th:href="@{/manageUser/external_userManagement}">
                                        <span id="draftRequest"></span>
                                        External Users
                                    </a>
                                </li>
                            </ul>
                        </li>
                        
                        <li class="has_sub" th:each="grRole:${grourRoleVO}"
                            th:if="${grRole.rolesVO.resourceVO.pattern == 'DROPDOWN'}">
                            <a th:href="@{/general/all_dropdowns}" class="waves-effect">
                                <span class="badge badge-pill badge-primary float-right"></span>
                                <i class="zmdi zmdi-blur-linear"></i>
                                <span>Drop-downs</span>
                            </a>
                        </li>
                        <li class="has_sub" th:each="grRole:${grourRoleVO}"
                            th:if="${grRole.rolesVO.resourceVO.pattern == 'SEARCH'}">
                            <a th:href="@{/search}" class="waves-effect">
                                <span class="badge badge-pill badge-primary float-right"></span>
                                <i class="fa fa-search"></i>
                                <span>Search</span>
                            </a>
                        </li>
                        <li class="has_sub" th:each="grRole:${grourRoleVO}"
                            th:if="${grRole.rolesVO.resourceVO.pattern == 'NEW_RECORD'}">
                            <a th:href="@{/new_record}" class="waves-effect">
                                <span class="badge badge-pill badge-primary float-right"></span>
                                <i class="zmdi zmdi-collection-text"></i>
                                <span>New Record</span>
                            </a>
                        </li>
                        <li class="has_sub" th:each="grRole:${grourRoleVO}"
                            th:if="${grRole.rolesVO.resourceVO.pattern == 'RE_ASSIGN'}">
                            <a th:href="@{/reassign}" class="waves-effect">
                                <span class="badge badge-pill badge-primary float-right"></span>
                                <i class="zmdi zmdi-collection-text"></i>
                                <span>Re-assign</span>
                            </a>
                        </li>
                        <li class="has_sub" th:each="grRole:${grourRoleVO}"
                            th:if="${grRole.rolesVO.resourceVO.pattern == 'REPORTS'}">
                            <a href="#" class="waves-effect">
                                <span class="badge badge-pill badge-primary float-right"></span>
                                <i class="zmdi zmdi-chart"></i>
                                <span>Reports</span>
                                <span class="menu-arrow"></span>
                            </a>
                            <ul class="list-unstyled">
                                <li>
                                    <a th:href="@{'/reports/users/statistics'}">
                                        <span id="pendingRequest"></span>
                                        User statistics
                                    </a>
                                </li>
                                <li>
                                    <a th:href="@{/reports/extracts/statistics}">
                                        <span id="draftRequest"></span>
                                        Extracts statistics
                                    </a>
                                </li>
                            </ul>
                        </li>
                        <li class="has_sub" th:each="grRole:${grourRoleVO}"
                            th:if="${grRole.rolesVO.resourceVO.pattern == 'BLACKLIST'}">
                            <a th:href="@{/blacklist/index}" class="waves-effect">
                                <span class="badge badge-pill badge-primary float-right"></span>
                                <i class="zmdi zmdi-chart"></i>
                                <span>Blacklist</span>
                            </a>
                        </li>
                        <li class="has_sub">
                        <a href="#" class="waves-effect">
                            <span class="badge badge-pill badge-primary float-right"></span>
                            <i class="zmdi zmdi-chart"></i>
                            <span>Second Route</span>
                            <span class="menu-arrow"></span>
                        </a>
                        <ul class="list-unstyled">
                            <li>
                                <a th:href="@{/applicant_route}">
                                    <span id="pendingRequest"></span>
                                    User sign in
                                </a>
                            </li>
                            <li>
                                <a th:href="@{/user_request}">
                                    <span id="draftRequest"></span>
                                    user request
                                </a>
                            </li>                             
                        </ul>
                    </li>
                    </ul>
                    <div class="clearfix"></div>
                </div>
                <!-- Sidebar -->
                <div class="clearfix"></div>
            </div>
        </div>
        <!-- Left Sidebar End -->

        <!-- ============================================================== -->
        <!-- Start right Content here -->
        <!-- ============================================================== -->
        <div class="content-page">
            <!-- Start content -->
            <div class="content">
                <div layout:fragment="container-content"></div>
                <!-- container -->
            </div>
            <!-- content -->
        </div>
        <!-- End content-page -->

        <!-- ============================================================== -->
        <!-- End Right content here -->
        <!-- ============================================================== -->

        <!-- Right Sidebar -->
        <div class="side-bar right-bar">
            <div class="nicescroll">
                <ul class="nav nav-pills nav-justified">
                    <li class="nav-item">
                        <a href="#home-2" class="nav-link active" data-toggle="tab" aria-expanded="false">
                            History
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#messages-2" class="nav-link" data-toggle="tab" aria-expanded="true">Settings</a>
                    </li>
                </ul>

                <div class="tab-content">
                    <div class="tab-pane fade active show" id="home-2">
                        <div class="timeline-2">
                            <div class="timeline-2" th:each="offence:${offenceHistory}">
                                <div class="time-item">
                                    <div class="item-info">
                                        <!--  <small class="text-muted">5 minutes ago</small> -->
                                        <p>
                                            <span>
                                                <a href="#" class="text-info"></a>
                                                <span th:text="${offence.actionDetail}"></span>
                                            </span>
                                        </p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="tab-pane fade" id="messages-2">
                        <div class="row m-t-10">
                            <div class="col-8">
                                <h5 class="m-0">Password</h5>
                                <p class="text-muted m-b-0"><small>Change notification?</small></p>
                            </div>
                            <div class="col-4 text-right">
                                <input type="checkbox" checked data-plugin="switchery" data-color="#1bb99a"
                                    data-size="small" />
                            </div>
                        </div>

                        <div class="row m-t-10">
                            <div class="col-8">
                                <h5 class="m-0">Applications</h5>
                                <p class="m-b-0 text-muted"><small>Enable/Disable notifications</small></p>
                            </div>
                            <div class="col-4 text-right">
                                <input type="checkbox" checked data-plugin="switchery" data-color="#1bb99a"
                                    data-size="small" />
                            </div>
                        </div>

                        <div class="row m-t-10">
                            <div class="col-8">
                                <h5 class="m-0">User access control</h5>
                                <p class="m-b-0 text-muted"><small>Enable/Disable Notifications</small></p>
                            </div>
                            <div class="col-4 text-right">
                                <input type="checkbox" checked data-plugin="switchery" data-color="#1bb99a"
                                    data-size="small" />
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- end nicescroll -->
        </div>
        <!-- /Right-bar -->

        <footer class="footer">2016 - 2019 © CRS.</footer>

        <!-- spiner  -->
        <div class="spinner" id="spinnerDiv" style="display: none">
            <div class="in">
                <img th:src="@{/images/img_loading.gif}" alt="" />
            </div>
        </div>
    </div>
    <!-- END wrapper -->

    <script>
        var resizefunc = [];
    </script>

    <!-- jQuery  -->
    <script th:src="@{/js/jquery.min.js}"></script>
    <script th:src="@{/js/bootstrap.bundle.min.js}"></script>
    <script th:src="@{/js/detect.js}"></script>
    <script th:src="@{/js/fastclick.js}"></script>
    <script th:src="@{/js/jquery.blockUI.js}"></script>
    <script th:src="@{/js/waves.js}"></script>
    <script th:src="@{/js/jquery.nicescroll.js}"></script>
    <script th:src="@{/js/jquery.scrollTo.min.js}"></script>
    <script th:src="@{/js/jquery.slimscroll.js}"></script>
    <script th:src="@{/plugins/switchery/switchery.min.js}"></script>

    <!-- Counter Up  -->
    <script th:src="@{/plugins/waypoints/lib/jquery.waypoints.min.js}"></script>
    <script th:src="@{/plugins/counterup/jquery.counterup.js}"></script>

    <!-- App js -->
    <script th:src="@{/js/jquery.core.js}"></script>
    <script th:src="@{/js/jquery.app.js}"></script>

    <!-- Custom JS -->
    <script th:src="@{/js/custom.js}"></script>

    <script th:src="@{/js/sweetalert/sweetalert.min.js}"></script>

    <script th:src="@{/js/crs_datatable/jquery.dataTables.min.js}"></script>
    <script th:src="@{/js/crs_datatable/dataTables.jqueryui.min.js}"></script>
    <script th:src="@{/js/crs_datatable/dataTables.buttons.min.js}"></script>
    <script th:src="@{/js/crs_datatable/buttons.jqueryui.min.js}"></script>
    <script th:src="@{/js/crs_datatable/jszip.min.js}"></script>
    <!-- <script th:src="@{/js/crs_datatable/pdfmake.min.js}"></script> -->
    <script th:src="@{/js/crs_datatable/vfs_fonts.js}"></script>
    <script th:src="@{/js/crs_datatable/buttons.html5.min.js}"></script>
    <script th:src="@{/js/crs_datatable/buttons.print.min.js}"></script>
    <script th:src="@{/js/crs_datatable/buttons.colVis.min.js}"></script>
    <script th:src="@{/js/crs_datatable/dataTables.responsive.min.js}"></script>

    <!-- DATE RANGE  -->
    <script th:src="@{/plugins/moment/moment.js}"></script>
    <script th:src="@{/plugins/timepicker/bootstrap-timepicker.min.js}"></script>
    <script th:src="@{/plugins/mjolnic-bootstrap-colorpicker/js/bootstrap-colorpicker.min.js}"></script>
    <script th:src="@{/plugins/bootstrap-datepicker/js/bootstrap-datepicker.min.js}"></script>
    <script th:src="@{/plugins/bootstrap-daterangepicker/daterangepicker.js}"></script>
    <script th:src="@{/js/jquery.form-pickers.init.js}"></script>
    <script th:src="@{/js/custom/main-layout/custom.js}"></script>
    <th:block layout:fragment="script"></th:block>
</body>

</html>